# RustChain PoA Genesis Configuration
# Generated with Dual Mirror Door Entropy
#
# Past Mirror: Hardware antiquity (PPC G4, SPARC, Cell)
# Future Mirror: Chain evolution commitment
# Door: Genesis block sealing both mirrors

ergo {
  networkType = "mainnet"

  chain {
    # Custom address prefix (32 = 0x20)
    addressPrefix = 32

    # Genesis state digest from dual mirror door entropy
    # Computed from: hardware fingerprints XOR chain commitment XOR founder allocations
    genesisStateDigestHex = "85adf45e7510fb445384e35082a95f0b33631a667e99d7b2237483cc884a7ff702"

    # Initial difficulty (minimal for PoA - no competitive mining)
    initialDifficultyHex = "01"

    # Block time (10 minutes for PoA - entropy collection window)
    desiredBlockInterval = 600s

    # Monetary policy
    monetary {
      # Fixed rate period (blocks before halving)
      fixedRatePeriod = 525600

      # Initial block reward (1.5 RTC in nanoRTC)
      fixedRate = 1500000000

      # Epoch length for reward adjustment
      epochLength = 64800

      # No founders fee (already in premine)
      foundersInitialReward = 0
    }

    # Reemission rules (required when mining is enabled)
    reemission {
      checkReemissionRules = true
      emissionNftId = "0000000000000000000000000000000000000000000000000000000000000000"
      reemissionTokenId = "0000000000000000000000000000000000000000000000000000000000000000"
      reemissionNftId = "0000000000000000000000000000000000000000000000000000000000000000"
      activationHeight = 777217
      reemissionStartHeight = 2080800
      injectionBoxBytesEncoded = ""
    }
  }

  node {
    minimalFeeAmount = 0
    # UTXO state management
    stateType = "utxo"

    # Verify all transactions
    verifyTransactions = true

    # Keep full history
    blocksToKeep = -1

    # Enable mining for genesis
    mining = true
    useExternalMiner = false
    offlineGeneration = true
    internalMinersCount = 1

    # Network binding
    bindAddress = "0.0.0.0:9053"
  }

  wallet {
    secretStorage {
      secretDir = "/opt/rustchain/wallet"
    }
    seedStrengthBits = 256
  }
}

scorex {
  network {
    # RustChain PoA magic bytes: "RCPA" (82, 67, 80, 65)
    magicBytes = [82, 67, 80, 65]

    nodeName = "rustchain-poa-genesis"
    agentName = "RustChainPoA5021"

    # P2P binding
    bindAddress = "0.0.0.0:9020"

    # Declare external address
    declaredAddress = "50.28.86.131:9020"

    # Known peers (both LiquidWeb servers)
    knownPeers = [
      "50.28.86.153:9020"
    ]

    # Network settings
    maxConnections = 30
    connectionTimeout = 60s
  }

  restApi {
    bindAddress = "0.0.0.0:9053"
    # API key hash - Blake2b256 of "rustchain-poa-genesis-key"
    apiKeyHash = "a829b05c76d8dc27aa7c0710e178c46c4e5fc772d11f7948da39aa1abd90317f"
  }
}
